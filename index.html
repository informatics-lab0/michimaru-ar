<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Location Based AR - Multi Media</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    
    <style>
      #overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.7); color: white;
        display: flex; align-items: center; justify-content: center;
        z-index: 9999; cursor: pointer; text-align: center; font-family: sans-serif;
      }
    </style>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <div id="overlay">
      <h1>AR体験を開始<br>画面をタップしてください</h1>
    </div>

    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >
      <a-assets>
        <img id="my-png" src="your-image.png">
        <video id="my-video" src="your-video.mp4" loop="true" crossorigin="anonymous" playsinline></video>
        <audio id="my-audio" src="your-music.mp3" loop="true" crossorigin="anonymous"></audio>
      </a-assets>

      <a-image
        src="#my-png"
        look-at="[gps-camera]"
        scale="10 10 10" 
        gps-entity-place="latitude: 35.681236; longitude: 139.767125;"
        position="0 5 0"
      ></a-image>

      <a-video
        src="#my-video"
        width="16" height="9"
        gps-entity-place="latitude: 35.003536235450355; longitude: 138.43780845644258;"
        position="0 10 0"
      ></a-video>

      <a-entity
        gps-entity-place="latitude: 35.681236; longitude: 139.767125;"
        sound="src: #my-audio; autoplay: false; volume: 1; refDistance: 10; rolloffFactor: 5">
      </a-entity>

      <a-camera gps-camera rotation-reader></a-camera>
    </a-scene>

    <script>
      // 画面をタップした時に動画と音声を再生開始する
      const overlay = document.getElementById('overlay');
      overlay.addEventListener('click', () => {
        // 動画の再生
        const video = document.querySelector('#my-video');
        if (video) video.play();

        // 音楽の再生
        const audioEntity = document.querySelector('[sound]');
        if (audioEntity) {
          // A-Frameのsoundコンポーネント経由で再生
          audioEntity.components.sound.playSound();
        }

        // オーバーレイを消す
        overlay.style.display = 'none';
      });
    </script>
  </body>
</html>